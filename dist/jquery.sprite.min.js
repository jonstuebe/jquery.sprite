$(function(){$.fn.sprite=function(e){if(!this.length)return this;var t=$.extend(!0,{},$.fn.sprite.defaults,e);return this.each(function(){var e=$(this),n=0,a=0;frameSpeed=t.frames/t.fps*1e3/t.frames;var r,s=function(){n++,e.data("animating",!0);var r=parseInt(e.css("background-position").split(" ")[0].replace("px",""));r=0>r?-1*r:r;var s=-1*(r+e.width());1==t.loop&&n==t.frames&&(s=0,n=0,a++),e.css({"background-position":s+"px 0"}),n==t.frames&&1!=t.loop&&e.trigger("stop"),e.trigger({type:"progress",frameNum:n,loopNum:a})};r=setInterval(s,frameSpeed),e.on("pause",function(){clearInterval(r),e.data("animating",!1)}),e.on("stop",function(){clearInterval(r),e.css("background-position",""),e.data("animating",!1)}),e.on("resume",function(){r=setInterval(s,frameSpeed)})}),this},$.fn.sprite.defaults={fps:24,loop:!1}});